# üìö SmartLibrary API

.NET RESTful API, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ç–¥–∞–≤–∞–Ω–µ –ø–æ–¥ –Ω–∞–µ–º –Ω–∞ –∫–Ω–∏–≥–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞. –¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞ **N-—Å–ª–æ–π–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**, **–∏–Ω–∂–µ–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –∏ **–∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞**, —Å–ª–µ–¥–≤–∞–π–∫–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏—Ç–µ –Ω–∞ —á–∏—Å—Ç –∫–æ–¥.

## üöÄ –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –ø–æ–∑–≤–æ–ª—è–≤–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –¥–∞:
1. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞—Ç** (—Å–∏–º—É–ª–∏—Ä–∞–Ω–æ —á—Ä–µ–∑ seed/creation).
2. **–î–æ–±–∞–≤—è—Ç –∫–Ω–∏–≥–∏** –∫—ä–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∞.
3. **–û—Ç–¥–∞–≤–∞—Ç –∫–Ω–∏–≥–∏ –ø–æ–¥ –Ω–∞–µ–º** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–Ω–æ—Å—Ç—Ç–∞ –æ—Ç –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞).

### ‚úÖ –ü–æ–∫—Ä–∏—Ç–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è (–ö–æ–Ω—Ç—Ä–æ–ª–µ–Ω —Å–ø–∏—Å—ä–∫ –∑–∞ –∫—É—Ä—Å–æ–≤–∞ —Ä–∞–±–æ—Ç–∞)

–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç —Å—Ç—Ä–∏–∫—Ç–Ω–æ —Å–ª–µ–¥–≤–∞ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è—Ç–∞ –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ—Ç–æ:

- [x] **N-—Å–ª–æ–π–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (–¥–æ–º–µ–π–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, API).
- [x] **2 –º–æ–¥–µ–ª–∞ –Ω–∞ –¥–æ–º–µ–π–Ω–∏** (`Book`, `User`).
- [x] **2 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ —É—Å–ª—É–≥–∏** (`BookRepository`, `UserRepository`).
- [x] **–ë–∏–∑–Ω–µ—Å —É—Å–ª—É–≥–∞** (`LendingService`), –∏–Ω–∂–µ–∫—Ç–∏—Ä–∞—â–∞ 2 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (`IBookRepository`, `IUserRepository`).
- [x] **–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏**: –ï–¥–∏–Ω –∑–∞ CRUD (`BooksController`) –∏ –µ–¥–∏–Ω –∑–∞ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ (`LendingController`).
- [x] **MongoDB** –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω–∏ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω —á—Ä–µ–∑ `IOptionsMonitor`).
- [x] **–ò–Ω–∂–µ–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**, –∏–∑–ø–æ–ª–∑–≤–∞–Ω–æ –≤ —Ü—è–ª–æ—Ç–æ —Ä–µ—à–µ–Ω–∏–µ.
- [x] **Serilog** –∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–µ.
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞ **Swagger** (OpenAPI).
- [x] –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ **HealthChecks** (`/health`).
- [x] **Mapper**: –ò–∑–ø–æ–ª–∑–≤–∞ **Mapster** –∑–∞ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–∞–Ω–µ –Ω–∞ –æ–±–µ–∫—Ç–∏.
- [x] **FluentValidation**: –í–∞–ª–∏–¥–∏—Ä–∞ –≤—Ö–æ–¥—è—â–∏—Ç–µ –∑–∞—è–≤–∫–∏.
- [x] **Unit Tests**: xUnit & Moq, –æ–±—Ö–≤–∞—â–∞—â–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∏ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

---

## üõ† Tech Stack

* **Framework:** .NET 8 (C#)
* **Database:** MongoDB
* **Containerization:** Docker & Docker Compose
* **Testing:** xUnit, Moq
* **Tools:** Serilog, Mapster, FluentValidation, Swashbuckle

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–†–µ—à–µ–Ω–∏–µ—Ç–æ –µ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ 4 —Å–ª–æ—è:

1. **SmartLibrary.Domain**: –û—Å–Ω–æ–≤–Ω–∏ –æ–±–µ–∫—Ç–∏ (`Book`, `User`). –ù—è–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

2. **SmartLibrary.Application**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏, DTO, –í–∞–ª–∏–¥–∞—Ç–æ—Ä–∏, –£—Å–ª—É–≥–∏ (`LendingService`).

3. **SmartLibrary.Infrastructure**: –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ (Mongo Driver), –•—Ä–∞–Ω–∏–ª–∏—â–∞.

4. **SmartLibrary.Api**: –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, Middleware, DI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.

---

## ‚öôÔ∏è –ö–∞–∫ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ Docker (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

1. –ö–ª–æ–Ω–∏—Ä–∞–π—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ—Ç–æ:
```bash
git clone [https://github.com/YOUR_USERNAME/SmartLibrary.git](https://github.com/YOUR_USERNAME/SmartLibrary.git)
```
2. –û—Ç–∏–¥–µ—Ç–µ –¥–æ –∫–æ—Ä–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞:
```bash
docker-compose up -d
```
*(–¢–æ–≤–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ MongoDB –∏ Mongo-Express UI).*

3. –û—Ç–≤–æ—Ä–µ—Ç–µ —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤—ä–≤ **Visual Studio** –∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ **SmartLibrary.Api**.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª–µ–Ω MongoDB

1. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ MongoDB —Ä–∞–±–æ—Ç–∏ –ª–æ–∫–∞–ª–Ω–æ –Ω–∞ `localhost:27017`.
2. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –Ω–∏–∑–∞ –∑–∞ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ `appsettings.json`, –∞–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.
3. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ.
---

## üß™ Testing the API

Once running, navigate to Swagger UI:
üëâ **https://localhost:7001/swagger** (port may vary)

### 1. Add a Book (POST /api/books)
```json
{
  "title": "C# inside out",
  "author": "Jon Skeet"
}
